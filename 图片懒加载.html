<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>图片懒加载</title>
  <style>
    img {
      display: block;
      margin-top: 20px;
      width: 500px;
      height: 300px;
    }
  </style>
</head>
<body>
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<img data-src="./image/lucky.jpg" src="" alt="">
<script>
  // console.log(largeNumber('1111111', '222222'));
  const imgs = document.querySelectorAll('img[data-src]');
  console.log(imgs);
  const config = {
    rootMargin: '0px',
    threshold: 0,
  }
  let observer = new IntersectionObserver((entries, self) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        let img = entry.target;
        let src = img.dataset.src;
        if (src) {
          img.src = src;
        }
        self.unobserve(entry.target)
      }
    })
  }, config)
  imgs.forEach(image => {
    observer.observe(image)
  })
</script>
</body>
</html>